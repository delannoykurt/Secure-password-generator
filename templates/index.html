<!doctype html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <title>GÃ©nÃ©rateur de Mot de Passe ðŸ”’</title>
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='style.css') }}"
        />
    </head>
    <body>
        <div class="container">
            <h1>ðŸ”’ GÃ©nÃ©rateur de Mot de Passe ðŸ”’</h1>

            <form method="post">
                <label for="length">Choisissez la longueur :</label><br />
                <input
                    type="number"
                    id="length"
                    name="length"
                    min="8"
                    required
                /><br /><br />

                <label
                    ><input type="checkbox" name="use_digits" checked /> Inclure
                    des chiffres (0-9)</label
                ><br />
                <label
                    ><input type="checkbox" name="use_symbols" checked />
                    Inclure des symboles (!@#)</label
                ><br />
                <label
                    ><input type="checkbox" name="use_uppercase" checked />
                    Inclure des majuscules (A-Z)</label
                ><br /><br />

                <button type="submit">GÃ©nÃ©rer</button>
            </form>

            {% if password %}
            <h2>Votre mot de passe :</h2>
            <div id="displayField"><strong>{{ password }}</strong></div>
            <input
                type="text"
                id="passwordField"
                value="{{ password }}"
                readonly
                style="position: absolute; left: -9999px"
            />
            <button onclick="copierMotDePasse()">ðŸ“‹ Copier</button>

            <br /><br />

            <form method="post">
                <input type="hidden" name="length" value="{{ length }}" />
                <input
                    type="hidden"
                    name="use_digits"
                    value="{{ 'on' if use_digits else '' }}"
                />
                <input
                    type="hidden"
                    name="use_symbols"
                    value="{{ 'on' if use_symbols else '' }}"
                />
                <input
                    type="hidden"
                    name="use_uppercase"
                    value="{{ 'on' if use_uppercase else '' }}"
                />
                <button type="submit">ðŸ”„ GÃ©nÃ©rer un autre</button>
            </form>
            <script>
                function copierMotDePasse() {
                    var passwordField =
                        document.getElementById("passwordField");
                    passwordField.select();
                    passwordField.setSelectionRange(0, 99999); // Pour Ãªtre compatible mobile
                    document.execCommand("copy");

                    alert("âœ… Mot de passe copiÃ© dans le presse-papiers !");
                }
            </script>
            {% endif %}
        </div>
    </body>
</html>
